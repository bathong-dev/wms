(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{"04a2":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-input",{staticStyle:{display:"none"},model:{value:t.scaneddata.request_time,callback:function(e){t.$set(t.scaneddata,"request_time",e)},expression:"scaneddata.request_time"}}),o("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.fab,expression:"!fab"}],style:{width:t.width,height:t.height},attrs:{flat:""}},[o("q-card-section",[o("q-bar",{staticClass:"bg-white q-mb-sm shadow-1 "},[o("div",{staticStyle:{"font-size":"12px",width:"100%"}},[t._v(t._s(t.$t("scan.scan_bin_name"))+": "+t._s(t.frombin))])]),o("q-bar",{staticClass:"bg-white shadow-1 "},[o("div",{staticStyle:{"font-size":"12px",width:"100%"}},[t._v(t._s(t.$t("scan.scan_bin_name"))+": "+t._s(t.tobin))])])],1),o("q-scroll-area",{style:{height:t.scroll_height,width:t.width},attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[o("q-markup-table",[o("thead",[o("tr",[o("th",{staticClass:"text-right"},[t._v(t._s(t.goods_code_label))]),o("th",{staticClass:"text-right"},[t._v(t._s(t.goods_qty_label))]),o("th",{staticClass:"text-right"},[t._v(t._s(t.move_qty_label))])])]),o("tbody",[t._l(t.table_list,(function(e,a){return o("tr",{key:a},[o("td",{staticClass:"text-left"},[t._v(t._s(e.goods_code))]),o("td",{staticClass:"text-right"},[t._v(t._s(e.goods_qty))]),o("td",{staticClass:"text-right"},[t._v(t._s(e.move_qty))])])}))],2)])],1)],1)],1)},i=[],s=o("3004"),n=o("18d6"),c=o("09f9"),l={name:"Pagezebra_movetobin",data(){return{openid:"",login_name:"",authin:"0",pathname:"cyclecount/",width:"",height:"",scroll_height:"",table_list:[],goods_code_label:this.$t("stock.view_stocklist.goods_code"),goods_qty_label:this.$t("stock.view_stocklist.onhand_stock"),move_qty_label:"Move Qty",thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#E0E0E0",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#EEEEEE",width:"9px",opacity:.2},frombin:"",tobin:"",moved:!1,movecheck:[]}},methods:{getGoodsList(t){var e=this;Object(s["e"])("goods/?goods_code="+t,{}).then((t=>{0===t.results.length?(navigator.vibrate(100),e.$q.notify({message:"No Goods Data",position:"top",icon:"close",color:"negative"})):1===t.results.length?(e.table_list.filter((o=>{o.bin_name.includes(e.bin_scan)&&o.goods_code.includes(t.results[0].goods_code)&&e.movecheck.push(o)})),e.movecheck.length>0?e.movecheck.forEach((t=>t.qty===t.goods_qty-t.pick_qty-t.picked_qty||t.qty<t.goods_qty-t.pick_qty-t.picked_qty&&(e.table_list.filter((o=>{o.t_code.includes(t.t_code)&&(o.qty+=1),e.movecheck=[]})),!1))):(navigator.vibrate(100),e.$q.notify({message:"No Goods Data",position:"top",icon:"close",color:"negative"}))):(navigator.vibrate(100),e.$q.notify({message:"Repeating Data",position:"top",icon:"close",color:"negative"}))})).catch((t=>{navigator.vibrate(100),e.$q.notify({message:t.detail,position:"top",icon:"close",color:"negative"})}))},getFromBinList(t){var e=this;Object(s["e"])("stock/bin/?bin_name="+t,{}).then((t=>{0===t.results.length?(navigator.vibrate(100),e.$q.notify({message:"No Bin Data",position:"top",icon:"close",color:"negative"})):(e.table_list=t.results,e.frombin=e.scaneddata,e.movecheck=!0)})).catch((t=>{navigator.vibrate(100),e.$q.notify({message:t.detail,position:"top",icon:"close",color:"negative"})}))},getToBinList(t){var e=this;Object(s["e"])("binset/?bin_name="+t,{}).then((t=>{0===t.results.length?(navigator.vibrate(100),e.$q.notify({message:"No Bin Data",position:"top",icon:"close",color:"negative"})):1===t.results.length?e.moveSubmit():(navigator.vibrate(100),e.$q.notify({message:"Repeating Data",position:"top",icon:"close",color:"negative"}))})).catch((t=>{navigator.vibrate(100),e.$q.notify({message:t.detail,position:"top",icon:"close",color:"negative"})}))},moveSubmit(){var t=this;Object(s["i"])("staock/bin",t.movedata).then((e=>{t.$q.notify({message:"Success Move To Bin"+t.tobin,position:"top",icon:"check",color:"green"}),t.movecheck=!1,t.table_list=[],t.frombin="",t.tobin=""})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))}},computed:{fab:{get(){return this.$store.state.fabchange.fab}},scaneddata:{get(){return this.$store.state.scanedsolve.scaneddata}}},created(){var t=this;n["a"].has("openid")?t.openid=n["a"].getItem("openid"):(t.openid="",n["a"].set("openid","")),n["a"].has("login_name")?t.login_name=n["a"].getItem("login_name"):(t.login_name="",n["a"].set("login_name","")),n["a"].has("auth")?t.authin="1":t.authin="0"},mounted(){var t=this;t.width=1*c["a"].width+"px",t.height=c["a"].height-50+"px",t.scroll_height=c["a"].height-200+"px"},updated(){var t=this;""!==t.scaneddata&&("BINSET"===t.scaneddata.mode?t.moved?t.getToBinList(t.scaneddata.mode):t.getFromBinList(t.scaneddata.mode):"GOODS"===t.scaneddata.mode?""!==t.bin_scan?t.getGoodsList(t.scaneddata.code):t.$q.notify({message:"No Bin Query Data",position:"top",icon:"close",color:"negative"}):t.$q.notify({message:"No Query Data",position:"top",icon:"close",color:"negative"}))},beforeDestroy(){}},r=l,d=o("42e1"),h=o("8354"),g=o("27f9"),b=o("f09f"),_=o("a370"),v=o("d847"),m=o("4983"),p=o("2bb1"),u=o("eebe"),f=o.n(u),y=Object(d["a"])(r,a,i,!1,null,null,null);"function"===typeof h["default"]&&Object(h["default"])(y);e["default"]=y.exports;f()(y,"components",{QInput:g["a"],QCard:b["a"],QCardSection:_["a"],QBar:v["a"],QScrollArea:m["a"],QMarkupTable:p["a"]})},8354:function(t,e,o){"use strict";var a=o("ff55"),i=o.n(a);e["default"]=i.a},ff55:function(t,e){}}]);