(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"4c8e":function(t,e){},"6f63":function(t,e,a){},"82dd":function(t,e,a){"use strict";a("6f63")},"8fae":function(t,e,a){"use strict";var o=a("4c8e"),i=a.n(o);e["default"]=i.a},"92d0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.fab,expression:"!fab"}],staticClass:"shadow-24",style:{width:t.width,height:t.height}},[a("q-card-section",[a("q-bar",{staticClass:"bg-white shadow-1 q-mb-sm",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("scan.view_shipping.shipping_code"))+": "+t._s(t.goods_scan))]),a("q-btn-group",{attrs:{push:""}},[a("q-btn",{attrs:{label:t.$t("refresh")},on:{click:function(e){return t.reFresh()}}}),a("q-btn",{attrs:{color:"purple",label:t.$t("stock.view_stocklist.cyclecountresult")},on:{click:function(e){return t.ConfirmCount()}}})],1)],1),a("q-scroll-area",{style:{height:t.scroll_height,width:t.width},attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v(t._s(t.scan_goods_code))]),a("th",{staticClass:"text-center"},[t._v(t._s(t.order_qty))]),a("th",{staticClass:"text-center"},[t._v(t._s(t.picking_qty))])])]),a("tbody",{class:t.showBg?"tbody":""},[t._l(t.table_list,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"text-left"},[t._v(t._s(e.bin_name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.goods_code))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.physical_inventory))])])}))],2)])],1),a("q-separator",{attrs:{dark:""}}),a("q-bar",{staticStyle:{"font-size":"12px",background:"#D7D7D7"}},[t._v(t._s(t.$t("scan.view_shipping.driver_info")))]),a("div",{staticClass:"q-px-md q-py-sm"},[a("q-bar",{staticClass:"bg-white",staticStyle:{"justify-content":"space-between",padding:"0"}},[a("div",{staticClass:"text-center",staticStyle:{height:"40px","line-height":"40px",width:"60px","font-size":"12px"}},[t._v("\n          "+t._s(t.$t("scan.view_shipping.license_plate_number"))+":\n        ")]),a("q-select",{staticStyle:{width:"70%"},attrs:{dense:"",outlined:"","hide-dropdown-icon":"",options:t.options1,"use-input":""},model:{value:t.carNumber,callback:function(e){t.carNumber=e},expression:"carNumber"}})],1),a("q-bar",{staticClass:"bg-white q-my-md",staticStyle:{"justify-content":"space-between",padding:"0"}},[a("div",{staticClass:"text-center",staticStyle:{height:"40px","line-height":"40px",width:"60px","font-size":"12px"}},[t._v("\n          "+t._s(t.$t("scan.view_shipping.name"))+":\n        ")]),a("q-select",{staticStyle:{width:"70%"},attrs:{dense:"",outlined:"","hide-dropdown-icon":"",options:t.options2,"use-input":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("q-bar",{staticClass:"bg-white",staticStyle:{"justify-content":"space-between",padding:"0"}},[a("div",{staticClass:"text-center",staticStyle:{height:"40px","line-height":"40px",width:"60px","font-size":"12px"}},[t._v("\n          "+t._s(t.$t("scan.view_shipping.contact_info"))+":\n        ")]),a("q-select",{staticStyle:{width:"70%"},attrs:{dense:"",outlined:"","hide-dropdown-icon":"",options:t.options3,"use-input":""},model:{value:t.contactInfo,callback:function(e){t.contactInfo=e},expression:"contactInfo"}})],1)],1)],1),a("q-page-sticky",{directives:[{name:"show",rawName:"v-show",value:2===t.device,expression:"device === 2"}],attrs:{position:"bottom-right",offset:[18,18]}},[a("q-fab",{attrs:{icon:"add",direction:"up",color:"accent","vertical-actions-align":"left"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab8.top,"margin-bottom":t.fab8.bottom,"margin-left":t.fab8.left,"margin-right":t.fab8.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_locationquery"),"label-style":"background-color:transparent",to:"urovo_locationquery"}},[a("q-img",{attrs:{src:"statics/stock/stocklist.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab8.top,"margin-bottom":t.fab8.bottom,"margin-left":t.fab8.left,"margin-right":t.fab8.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_locationquery"),"label-style":"background-color:transparent",to:"zebra_locationquery"}},[a("q-img",{attrs:{src:"statics/stock/stocklist.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab7.top,"margin-bottom":t.fab7.bottom,"margin-left":t.fab7.left,"margin-right":t.fab7.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_goodsquery"),"label-style":"background-color:transparent",to:"urovo_goodslist"}},[a("q-img",{attrs:{src:"statics/goods/goodslist.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab7.top,"margin-bottom":t.fab7.bottom,"margin-left":t.fab7.left,"margin-right":t.fab7.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_goodsquery"),"label-style":"background-color:transparent",to:"zebra_goodslist"}},[a("q-img",{attrs:{src:"statics/goods/goodslist.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab6.top,"margin-bottom":t.fab6.bottom,"margin-left":t.fab6.left,"margin-right":t.fab6.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",icon:"img:statics/stock/cyclecount.png",label:t.$t("scan.scan_inventory"),"label-style":"background-color:transparent",to:"urovo_cyclecount"}},[a("q-img",{attrs:{src:"statics/stock/cyclecount.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab6.top,"margin-bottom":t.fab6.bottom,"margin-left":t.fab6.left,"margin-right":t.fab6.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",icon:"img:statics/stock/cyclecount.png",label:t.$t("scan.scan_inventory"),"label-style":"background-color:transparent",to:"zebra_cyclecount"}},[a("q-img",{attrs:{src:"statics/stock/cyclecount.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab5.top,"margin-bottom":t.fab5.bottom,"margin-left":t.fab5.left,"margin-right":t.fab5.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_movetobin"),"label-style":"background-color:transparent",to:"urovo_movetobin"}},[a("q-img",{attrs:{src:"statics/icons/movetobin.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab5.top,"margin-bottom":t.fab5.bottom,"margin-left":t.fab5.left,"margin-right":t.fab5.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_movetobin"),"label-style":"background-color:transparent",to:"zebra_movetobin"}},[a("q-img",{attrs:{src:"statics/icons/movetobin.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab4.top,"margin-bottom":t.fab4.bottom,"margin-left":t.fab4.left,"margin-right":t.fab4.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_shipping"),"label-style":"background-color:transparent",to:"urovo_shipping"}},[a("q-img",{attrs:{src:"statics/icons/car.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab4.top,"margin-bottom":t.fab4.bottom,"margin-left":t.fab4.left,"margin-right":t.fab4.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_shipping"),"label-style":"background-color:transparent",to:"zebra_shipping"}},[a("q-img",{attrs:{src:"statics/icons/car.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab3.top,"margin-bottom":t.fab3.bottom,"margin-left":t.fab3.left,"margin-right":t.fab3.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_picking"),"label-style":"background-color:transparent",to:"urovo_picking"}},[a("q-img",{attrs:{src:"statics/outbound/picked.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab3.top,"margin-bottom":t.fab3.bottom,"margin-left":t.fab3.left,"margin-right":t.fab3.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_picking"),"label-style":"background-color:transparent",to:"zebra_picking"}},[a("q-img",{attrs:{src:"statics/outbound/picked.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab2.top,"margin-bottom":t.fab2.bottom,"margin-left":t.fab2.left,"margin-right":t.fab2.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_uptobin"),"label-style":"background-color:transparent",to:"urovo_uptobin"}},[a("q-img",{attrs:{src:"statics/inbound/presortstock.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab2.top,"margin-bottom":t.fab2.bottom,"margin-left":t.fab2.left,"margin-right":t.fab2.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_uptobin"),"label-style":"background-color:transparent",to:"zebra_uptobin"}},[a("q-img",{attrs:{src:"statics/inbound/presortstock.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Urovo"===t.device_name,expression:"device_name === 'Urovo'"}],style:{"margin-top":t.fab1.top,"margin-bottom":t.fab1.bottom,"margin-left":t.fab1.left,"margin-right":t.fab1.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_sorting"),"label-style":"background-color:transparent",to:"urovo_sorting"}},[a("q-img",{attrs:{src:"statics/inbound/preloadstock.png"}})],1),a("q-fab-action",{directives:[{name:"show",rawName:"v-show",value:"Zebra Technologies"===t.device_name,expression:"device_name === 'Zebra Technologies'"}],style:{"margin-top":t.fab1.top,"margin-bottom":t.fab1.bottom,"margin-left":t.fab1.left,"margin-right":t.fab1.right,height:t.touchheight,width:t.touchwidth},attrs:{square:"",flat:"","external-label":"","label-position":"bottom","label-class":"text-black",label:t.$t("scan.scan_sorting"),"label-style":"background-color:transparent",to:"zebra_sorting"}},[a("q-img",{attrs:{src:"statics/inbound/preloadstock.png"}})],1)],1)],1)],1)},i=[],s=a("3004"),n=a("18d6");function r(){Uplugin.getDeviceID("",(function(t){console.log(t)}),(function(t){console.log(t)}))}function c(){Uplugin.getBarcode("start",(function(t){console.log(t),document.getElementById("scannedBarcodes").value="",document.getElementById("scannedBarcodes").value=t,document.getElementById("scannedBarcodes").dispatchEvent(new Event("input"))}),(function(t){console.log(t)}))}function l(){Uplugin.getBarcode("stop",(function(t){console.log(t)}),(function(t){console.log(t)}))}var b={name:"Pageurovo_cyclecount",data(){return{openid:"",login_name:"",authin:"0",pathname:"shipping/",separator:"cell",loading:!1,device:0,device_name:"",width:"",height:"",scroll_height:"",table_list:[],scan_goods_code:this.$t("scan.scan_goods_code"),order_qty:this.$t("scan.view_picking.order_qty"),picking_qty:this.$t("scan.view_picking.picking_qty"),thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#E0E0E0",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#EEEEEE",width:"9px",opacity:.2},fab:!1,touchheight:(this.$q.screen.width-50)/5+"px",touchwidth:(this.$q.screen.width-50)/5+"px",fab1:{top:"",bottom:"",left:"",right:""},fab2:{top:"",bottom:"",left:"",right:""},fab3:{top:"",bottom:"",left:"",right:""},fab4:{top:"",bottom:"",left:"",right:""},fab5:{top:"",bottom:"",left:"",right:""},fab6:{top:"",bottom:"",left:"",right:""},fab7:{top:"",bottom:"",left:"",right:""},fab8:{top:"",bottom:"",left:"",right:""},batteryStatus:"determining...",goods_scan:"",showBg:!1,carNumber:"",name:"",contactInfo:"",options1:[],options2:[],options3:[],error:this.$t("scan.scan_goods_label_error")}},methods:{keyboardHandler(){setTimeout((()=>{window.scrollTo(0,510)}),200)},datachange(){var t=this;Object(s["e"])("scanner/?bar_code="+t.barscan,{}).then((e=>{"ASN"===e.results[0].mode?(t.barscan=e.results[0].code,t.goods_scan="",t.bin_scan="",t.getList(t.dn_code)):"GOODS"===e.results[0].mode&&t.barscan?(t.goods_scan=e.results[0].code,t.bin_scan="",t.countAdd(t.goods_scan),t.showBg=!0):"BINSET"===e.results[0].mode&&t.barscan?(t.bin_scan=e.results[0].code,t.goods_scan=""):e.results?t.barscan?t.$q.notify({message:"请扫描收货通知单",icon:"close",color:"negative"}):t.$q.notify({message:"请先扫描收货通知单",icon:"close",color:"negative"}):(console.log("error"),t.$q.notify({message:"收货单号不存在",icon:"close",color:"negative"}))})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},countAdd(t){var e=this;e.table_list.filter((function(a,o,i){a.bin_name===e.bin_scan&&a.goods_code===t&&(e.table_list[o].physical_inventory+=1,e.table_list[o].physical_inventory>e.table_list[o]&&e.$q.notify({message:error2,icon:"close",color:"negative"}))}))},getList(t){var e=this;Object(s["e"])(e.pathname+"&asn_code="+t,{}).then((t=>{e.table_list=t.results,e.sorted_list.goodsData=t.results})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},reFresh(){var t=this;t.barscan="",t.bin_scan="",t.goods_scan=""},repeatCount(t){var e=this;e.table_list[t].physical_inventory=0},ConfirmCount(){var t=this;n["a"].has("auth")&&Object(s["i"])(t.pathname,t.table_list).then((e=>{t.table_list=[],t.$q.notify({message:"Success Confirm Cycle Count",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},updateBatteryStatus(t){var e=this;e.batteryStatus=`Level: ${t.level}, plugged: ${t.isPlugged}`},scanEvents(){var t=this;document.addEventListener("deviceready",t.onDeviceReady,!1)},onDeviceReady(){c()},onPause:function(){l()},onResume(){}},created(){var t=this;t.$q.localStorage.has("openid")?t.openid=t.$q.localStorage.getItem("openid"):(t.openid="",t.$q.localStorage.set("openid","")),t.$q.localStorage.has("login_name")?t.login_name=t.$q.localStorage.getItem("login_name"):(t.login_name="",t.$q.localStorage.set("login_name","")),t.$q.localStorage.has("auth")?t.authin="1":t.authin="0"},mounted(){var t=this;window.device?"Urovo"===window.device.manufacturer||"Zebra Technologies"===window.device.manufacturer?(t.device_name=window.device.manufacturer,t.device=2):t.device=1:t.$q.platform.is.mobile&&(t.device=1),t.$q.platform.is.electron?t.height=String(t.$q.screen.height)+"px":t.$q.platform.is.cordova?window.device&&(window.plugins.insomnia.keepAwake(),"Urovo"!==window.device.manufacturer&&"Zebra Technologies"!==window.device.manufacturer||(t.fab1.top="0px",t.fab1.bottom=0-(t.$q.screen.width-50)/5+"px",t.fab1.left=(t.$q.screen.width-50)/6-t.$q.screen.width/12*10+"px",t.fab1.right="0px",t.fab2.top="0px",t.fab2.bottom=0-(t.$q.screen.width-50)/5+"px",t.fab2.left=((t.$q.screen.width-50)/6-t.$q.screen.width/12*10)/2+"px",t.fab2.right="0px",t.fab3.top="0px",t.fab3.bottom="0px",t.fab3.left="-0px",t.fab3.right="0px",t.fab4.top=(t.$q.screen.width-50)/5+"px",t.fab4.bottom=0-(t.$q.screen.width-50)/5+"px",t.fab4.left=(t.$q.screen.width-50)/6-t.$q.screen.width/12*10+"px",t.fab4.right="0px",t.fab5.top="0px",t.fab5.bottom=0-(t.$q.screen.width-50)/5+"px",t.fab5.left=((t.$q.screen.width-50)/6-t.$q.screen.width/12*10)/2+"px",t.fab5.right="0px",t.fab6.top="0px",t.fab6.bottom="0px",t.fab6.left="0px",t.fab6.right="0px",t.fab7.top=(t.$q.screen.width-50)/5+"px",t.fab7.bottom=0-(t.$q.screen.width-50)/5+"px",t.fab7.left=(t.$q.screen.width-50)/6-t.$q.screen.width/12*10+"px",t.fab7.right="0px",t.fab8.top="0px",t.fab8.bottom=(t.$q.screen.width-50)/8+"px",t.fab8.left=((t.$q.screen.width-50)/6-t.$q.screen.width/12*10)/2+"px",t.fab8.right="0px")):t.height=t.$q.screen.height+"px",window.addEventListener("batterystatus",t.updateBatteryStatus,!1),window.addEventListener("focusin",t.keyboardHandler),t.width=1*t.$q.screen.width+"px",t.height=t.$q.screen.height-50+"px",t.scroll_height=t.$q.screen.height-335+"px",t.barscan="",t.bin_scan="",t.goods_scan="",t.scanEvents(),r()},updated(){},beforeDestroy(){var t=this;window.removeEventListener("batterystatus",t.updateBatteryStatus,!1),window.removeEventListener("deviceready",t.onDeviceReady,!1),window.removeEventListener("focusin",t.keyboardHandler,!1)},destroyed(){}},h=b,g=(a("82dd"),a("42e1")),d=a("8fae"),m=a("9989"),p=a("f09f"),f=a("a370"),u=a("d847"),v=a("e7a9"),w=a("9c40"),_=a("4983"),q=a("2bb1"),x=a("eb85"),y=a("ddd8"),k=a("de5e"),$=a("c294"),S=a("72db"),C=a("068f"),E=a("eebe"),N=a.n(E),T=Object(g["a"])(h,o,i,!1,null,null,null);"function"===typeof d["default"]&&Object(d["default"])(T);e["default"]=T.exports;N()(T,"components",{QPage:m["a"],QCard:p["a"],QCardSection:f["a"],QBar:u["a"],QBtnGroup:v["a"],QBtn:w["a"],QScrollArea:_["a"],QMarkupTable:q["a"],QSeparator:x["a"],QSelect:y["a"],QPageSticky:k["a"],QFab:$["a"],QFabAction:S["a"],QImg:C["a"]})}}]);