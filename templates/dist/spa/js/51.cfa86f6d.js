(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[51],{"07e1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.fab,expression:"!fab"}],style:{width:t.width,height:t.height},attrs:{flat:""}},[a("q-card-section",[a("q-bar",{staticClass:"bg-white q-mb-sm shadow-1 "},[a("div",{staticStyle:{"font-size":"12px",width:"100%"}},[t._v(t._s(t.$t("scan.scan_goods_label"))+": "+t._s(t.goods_scan))])]),a("q-btn-group",{attrs:{push:""}},[a("q-btn",{attrs:{label:t.$t("refresh")},on:{click:function(e){return t.reFresh()}}}),a("q-btn",{attrs:{color:"purple",label:t.$t("stock.view_stocklist.cyclecountresult")}})],1)],1),a("q-scroll-area",{ref:"scrollArea",style:{height:t.scroll_height,width:t.width},attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(t._s(t.scan_goods_code))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.scan_bin_name))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.order_qty))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.picking_qty))])])]),a("tbody",[t._l(t.table_list,(function(e,s){return a("tr",{key:s,attrs:{id:"dom"+s}},[a("td",{staticClass:"text-center"},[t._v(t._s(e.goods_code))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.bin_name))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.goods_qty))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.picked_qty))])])}))],2)])],1)],1)],1)},n=[],i=a("3004"),o=a("18d6"),c=a("e302"),r=a("09f9"),d={name:"Pagezebra_picking",data(){return{openid:"",login_name:"",authin:"0",pathname:"picking/",separator:"cell",loading:!1,width:"",height:"",scroll_height:"",table_list:[],scan_goods_code:this.$t("scan.scan_goods_code"),scan_bin_name:this.$t("scan.scan_bin_name"),order_qty:this.$t("scan.view_picking.order_qty"),picking_qty:this.$t("scan.view_picking.picking_qty"),thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#E0E0E0",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#EEEEEE",width:"9px",opacity:.2},barscan:"",dn_code:"",bin_scan:"",goods_scan:"",currentIndex:"",id:"",error1:this.$t("scan.scan_goods_label_error"),error2:this.$t("scan.view_picking.picking_qty_error")}},methods:{datachange(){var t=this;Object(i["e"])("scanner/?bar_code="+t.barscan,{}).then((e=>{"DN"===e.results[0].mode?(t.barscan=e.results[0].code,t.goods_scan="",t.dn_code=t.barscan,t.getList(t.dn_code),t.id=e.results[0].id):"GOODS"===e.results[0].mode&&t.dn_code?(t.goods_scan=e.results[0].code,t.countAdd(t.goods_scan)):e.results?t.dn_code?t.$q.notify({message:"请扫描发货通知单",icon:"close",color:"negative"}):t.$q.notify({message:"请先扫描发货通知单",icon:"close",color:"negative"}):t.$q.notify({message:"发货单号不存在",icon:"close",color:"negative"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getList(t){var e=this;Object(i["e"])("dn/pickinglistfilter/?dn_code__icontains="+t,{}).then((t=>{e.table_list=t.results})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},reFresh(){var t=this;t.table_list=[],t.dn_code&&t.getList(t.dn_code)}},computed:{fab:{get(){return this.$store.state.datashare.fab}}},created(){var t=this;o["a"].has("openid")?t.openid=o["a"].getItem("openid"):(t.openid="",o["a"].set("openid","")),o["a"].has("login_name")?t.login_name=o["a"].getItem("login_name"):(t.login_name="",o["a"].set("login_name","")),o["a"].has("auth")?t.authin="1":t.authin="0",t.datachange=Object(c["a"])(t.datachange,200)},mounted(){var t=this;t.width=1*r["a"].width+"px",t.height=r["a"].height-50+"px",t.scroll_height=r["a"].height-225+"px",t.barscan="",t.bin_scan="",t.goods_scan=""},beforeDestroy(){}},l=d,_=a("42e1"),h=a("ecc6"),g=a("9989"),b=a("f09f"),u=a("a370"),p=a("d847"),m=a("e7a9"),f=a("9c40"),v=a("4983"),y=a("2bb1"),w=a("eebe"),q=a.n(w),k=Object(_["a"])(l,s,n,!1,null,null,null);"function"===typeof h["default"]&&Object(h["default"])(k);e["default"]=k.exports;q()(k,"components",{QPage:g["a"],QCard:b["a"],QCardSection:u["a"],QBar:p["a"],QBtnGroup:m["a"],QBtn:f["a"],QScrollArea:v["a"],QMarkupTable:y["a"]})},3197:function(t,e){},ecc6:function(t,e,a){"use strict";var s=a("3197"),n=a.n(s);e["default"]=n.a}}]);