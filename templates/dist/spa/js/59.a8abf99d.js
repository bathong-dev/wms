(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{b026:function(t,a,e){"use strict";var s=e("dbe4"),o=e.n(s);a["default"]=o.a},b378:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.fab,expression:"!fab"}],style:{width:t.width,height:t.height},attrs:{flat:""}},[e("q-card-section",[e("q-btn-group",{attrs:{push:""}},[e("q-btn",{attrs:{label:t.$t("refresh")},on:{click:function(a){return t.reFresh()}}}),e("q-btn",{attrs:{color:"purple",label:t.$t("stock.view_stocklist.cyclecountresult")},on:{click:function(a){return t.ConfirmCount()}}})],1)],1),e("q-scroll-area",{style:{height:t.scroll_height,width:t.width},attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[e("q-markup-table",[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v(t._s(t.goods_code_label))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.goods_qty_label))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.goods_actual_qty_label))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.action_label))])])]),e("tbody",[t._l(t.sorted_list.goodsData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"text-left"},[t._v(t._s(a.goods_code))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.goods_qty))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.goods_actual_qty))]),e("td",{staticClass:"text-right"},[e("q-btn",{staticStyle:{width:"50px"},attrs:{round:"",flat:"",push:"",color:"purple",icon:"repeat"},on:{click:function(a){return t.repeatCount(s)}}})],1)])}))],2)])],1),e("q-separator",{attrs:{dark:""}})],1)],1)},o=[],n=e("3004"),i=e("18d6"),r=e("09f9"),c=e("e302"),l={name:"Pageurovo_sorting",data(){return{openid:"",login_name:"",authin:"0",pathname:"asn/detail/?asn_status=3&ordering=-id",device:0,device_name:"",width:"",height:"",scroll_height:"",table_list:[],sorted_list:{asn_code:"",supplier:"",goodsData:[],creater:""},goods_code_label:this.$t("goods.view_goodslist.goods_code"),goods_qty_label:this.$t("inbound.view_asn.goods_qty"),goods_actual_qty_label:this.$t("inbound.view_asn.goods_actual_qty"),action_label:this.$t("action"),thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#E0E0E0",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#EEEEEE",width:"9px",opacity:.2},barscan:"",asn_scan:"",goods_scan:""}},methods:{datachange(){var t=this;i["a"].has("auth")&&Object(n["e"])("scanner/?bar_code="+t.barscan,{}).then((a=>{t.barscan=a.results[0].code,"BINSET"===a.results[0].mode?(t.bin_scan=a.results[0].code,t.goods_scan=""):"GOODS"===a.results[0].mode&&(t.goods_scan=a.results[0].code,t.countAdd(t.goods_scan))})).catch((a=>{t.$q.notify({message:a.detail,icon:"close",color:"negative"})}))},countAdd(t){var a=this;a.table_list.filter((function(e,s,o){e.bin_name===a.bin_scan&&e.goods_code===t&&(a.table_list[s].physical_inventory+=1)}))},getList(){var t=this;i["a"].has("auth")&&Object(n["e"])(t.pathname,{}).then((a=>{t.table_list=a.results})).catch((a=>{t.$q.notify({message:a.detail,icon:"close",color:"negative"})}))},reFresh(){var t=this;t.barscan="",t.bin_scan="",t.goods_scan="",t.getList()},repeatCount(t){var a=this;a.table_list[t].physical_inventory=0},ConfirmCount(){var t=this;i["a"].has("auth")&&Object(n["i"])(t.pathname,t.table_list).then((a=>{t.table_list=[],t.$q.notify({message:"Success Confirm Cycle Count",icon:"check",color:"green"})})).catch((a=>{t.$q.notify({message:a.detail,icon:"close",color:"negative"})}))}},computed:{fab:{get(){return this.$store.state.fabchange.fab}}},created(){var t=this;i["a"].has("openid")?t.openid=i["a"].getItem("openid"):(t.openid="",i["a"].set("openid","")),i["a"].has("login_name")?t.login_name=i["a"].getItem("login_name"):(t.login_name="",i["a"].set("login_name","")),i["a"].has("auth")?t.authin="1":t.authin="0",t.datachange=Object(c["a"])(t.datachange,200)},mounted(){var t=this;t.width=1*r["a"].width+"px",t.height=r["a"].height-50+"px",t.scroll_height=r["a"].height-175+"px",t.barscan="",t.asn_scan="",t.goods_scan=""},updated(){},beforeDestroy(){},destroyed(){}},d=l,h=e("42e1"),_=e("b026"),u=e("9989"),g=e("f09f"),b=e("a370"),p=e("e7a9"),f=e("9c40"),m=e("4983"),y=e("2bb1"),v=e("eb85"),w=e("eebe"),q=e.n(w),C=Object(h["a"])(d,s,o,!1,null,null,null);"function"===typeof _["default"]&&Object(_["default"])(C);a["default"]=C.exports;q()(C,"components",{QPage:u["a"],QCard:g["a"],QCardSection:b["a"],QBtnGroup:p["a"],QBtn:f["a"],QScrollArea:m["a"],QMarkupTable:y["a"],QSeparator:v["a"]})},dbe4:function(t,a){}}]);